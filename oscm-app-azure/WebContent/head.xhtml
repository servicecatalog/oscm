<!-- Copyright FUJITSU LIMITED 2018-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>#{msg['marketplace.header.title']}</title>
  <!-- Due to the limited support of RF3.3 for IE9, the document mode is set to IE8 -->
  <meta http-equiv="X-UA-Compatible" content="IE=8" />
  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <script src="#{facesContext.externalContext.requestContextPath}/scripts/admUtils.js" type="text/javascript"></script>
  <script language="JavaScript1.2" type="text/javascript">
    var onSubmitFlag = false;

    AdmUtils.preventDefaultSubmitOnEnter();
    AdmUtils.setFocusBackgroundColor('#FDECB2');

    function getUnloadMessage() {return "#{configurationBean.unsavedChangesMsg}";}
    function setOnSubmit(flag) {onSubmitFlag = flag;}
    function getDirty() {return null != window.onbeforeunload;}

    function setDirty(flag) {
      if ((onSubmitFlag &amp;&amp; (!flag)) || (!onSubmitFlag)) {
        window.onbeforeunload = (flag) ? getUnloadMessage : null;
      }
    }

    function handleChange(selection) {
        if( window.onbeforeunload != null &amp;&amp; !confirm(getUnloadMessage()) ){
            return false;
        }
        setDirty(false);
        return true;
    }
  </script>
</ui:composition>
