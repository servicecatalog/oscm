<!-- Copyright FUJITSU LIMITED 2017-->
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:rich="http://richfaces.org/rich"
  xmlns:adm="http://www.fujitsu.com/global/services/software/interstage" xmlns:a4j="http://richfaces.org/a4j"
  xmlns:mp="http://www.fujitsu.com/global/services/software/interstage/marketplace"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

  <c:set var="modalId" value="#{empty panelId? 'reLogining': panelId }" />

  <rich:popupPanel id="${modalId}" trimOverlayedElements="false" resizeable="false" autosized="true"
    onresize="return false;" zindex="16000" minWidth="400" onshow="AdmUtils.adjustMplModalDialogPosition('${modalId}');"
    onbeforeshow="AdmUtils.setPageOverflow('hidden');">
    <h1>
      <h:outputText value="#{msg['user.roleChanged.title']}" />
    </h1>

    <h3 style="margin-top: 12px; margin-bottom: 20px;">
      <h:outputText converter="htmlnewline.converter" value="#{msg['user.roleChanged.message']}" escape="false" />
    </h3>

    <a4j:outputPanel layout="block" styleClass="clearfix bottomButtonPanel">
      <h:form id="showReloginForm" action="" method="post">
        <mp:button id="${modalId}OkButton" value="#{msg['button.ok']}" bean="#{userBean}" action="logoff"
          oncomplete="AdmUtils.showProgress(false);#{rich:component(modalId)}.hide();return false;" />
      </h:form>
    </a4j:outputPanel>
  </rich:popupPanel>
</ui:composition>
