<!-- Copyright FUJITSU LIMITED 2017-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:a4j="http://richfaces.org/a4j" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

  <c:set var="hintId" value="#{for}Hint" />
  <c:set var="markerId" value="#{for}HintMarker" />
  <c:set var="imgUrl" value="#{facesContext.externalContext.requestContextPath}/img" />
  <c:set var="marketPlaceImgUrl" value="#{facesContext.externalContext.requestContextPath}/marketplace/img" />

  <!-- If the attribute "hintText" is not set, the component identifies the message key -->
  <!-- for the hint text based on the "pageId". The syntax is: (pageId)+('.hint')+('.'+componentId) -->
  <c:set var="hintMsgId" value="#{pageId}.hint.#{for}" />
  <c:set var="hintMsg" value="#{(not empty hintText)?hintText:(msg[hintMsgId])}" />

  <a4j:outputPanel layout="block" style="position: relative;" styleClass="hint-panel">
    <img id="#{markerId}" class="hintMarker" src="#{marketPlaceImgUrl}/transparentPixel.png"
      onclick="AdmUtils.showHint(#{rich:element(hintId)});" />
    <a4j:outputPanel id="#{hintId}" layout="block" style="display:none;" styleClass="hint"
      onclick="AdmUtils.showHint(#{rich:element(hintId)});">
      <h:outputText value="#{hintMsg}" />
      <img src="#{marketPlaceImgUrl}/transparentPixel.png" class="hintArrow" />
      <img src="#{marketPlaceImgUrl}/transparentPixel.png" class="hintClose" />
    </a4j:outputPanel>
  </a4j:outputPanel>
</ui:composition>
