<!-- Copyright FUJITSU LIMITED 2020-->
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:b="http://bootsfaces.net/ui"
                xmlns:adm="http://www.fujitsu.com/global/services/software/interstage">

    <script type="text/javascript">
        $(document).ready(function () {
            var element = document.getElementsByClassName("select2-selection__rendered");
            var elementClicked = false;
            alert(element);
            $(document).on('select2-opening', function(e) {
                elementClicked = true;
                for (var i = 0; i < elements.length; i++) {
                    AdmUtils.setFocus(elements[i], false);
                }
		        AdmUtils.setFocus(e.target, true);
		    });
            document.addEventListener('click', function() {
		         if(!elementClicked) {
                    for (var i = 0; i < elements.length; i++) {
                        AdmUtils.setFocus(elements[i], false);
                    }}
                elementClicked = false;
		    });
		 });
	</script>

    <adm:panelGrid>
    <adm:outputLabel value="#{label}" />
    <h:panelGroup>
        <b:selectOneMenu select2="true" styleClass="select" id="#{id}" onchange="#{onchange}" onclick="#{onclick}"
                         immediate="#{immediate}" oncomplete="#{oncomplete}" value="#{value}" disabled="#{disabled}">
          <ui:insert/>
        </b:selectOneMenu>
    </h:panelGroup>
    </adm:panelGrid>
</ui:composition>