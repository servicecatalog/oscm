<!-- Copyright FUJITSU LIMITED 2020-->
<!DOCTYPE html>

<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:adm="http://www.fujitsu.com/global/services/software/interstage">

 <c:if test="#{empty styleClass}">
  <c:set var="styleClass" value="field"/>
 </c:if>
 <c:if test="#{empty isDirtySet}">
  <c:set var="isDirtySet" value="true"/>
 </c:if>
 <c:if test="#{empty readonly}">
  <c:set var="readonly" value="false"/>
 </c:if>
 <c:choose>
  <c:when test="#{isDirtySet}">
   <c:set var="setDirtyScript" value="setDirty(true)"/>
  </c:when>
  <c:otherwise>
   <c:set var="setDirtyScript" value=""/>
  </c:otherwise>
 </c:choose>

 <c:if test="#{(not empty validationMethod)}">
  <h:inputText id="#{id}" value="#{value}" maxlength="#{maxlength}" onchange="#{setDirtyScript}"
               styleClass="#{styleClass}" rendered="#{empty rendered or rendered}" disabled="#{disabled}"
               required="#{not empty required and required}" onkeyup="#{onkeyup}"
               validator="#{backingBean[validationMethod]}" readonly="#{readonly}">

   <c:if test="#{(not empty maxlength)}">
    <f:validateLength maximum="#{maxlength}"/>
   </c:if>

   <c:if test="#{(not empty validatorId)}">
    <f:validator validatorId="#{validatorId}"/>
   </c:if>

   <c:if test="#{(not empty converterId)}">
    <f:converter converterId="#{converterId}"/>
   </c:if>

   <ui:insert/>
  </h:inputText>
 </c:if>

 <c:if test="#{(empty validationMethod)}">
  <h:inputText id="#{id}" value="#{value}" maxlength="#{maxlength}" onchange="#{setDirtyScript}" onkeyup="#{onkeyup}"
               styleClass="#{styleClass}" rendered="#{empty rendered or rendered}" disabled="#{disabled}"
               required="#{not empty required and required}" readonly="#{readonly}">

   <c:if test="#{(not empty maxlength)}">
    <f:validateLength maximum="#{maxlength}"/>
   </c:if>

   <c:if test="#{(not empty validatorId)}">
    <f:validator validatorId="#{validatorId}"/>
   </c:if>

   <c:if test="#{(not empty converterId)}">
    <f:converter converterId="#{converterId}"/>
   </c:if>

   <ui:insert/>
  </h:inputText>
 </c:if>
 <adm:message id="#{id}ErrorMsg" for="#{id}" rendered="#{empty rendered or rendered}"/>
</ui:composition>