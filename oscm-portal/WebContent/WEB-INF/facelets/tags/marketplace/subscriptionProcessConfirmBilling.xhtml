<!-- Copyright FUJITSU LIMITED 2020 -->
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:a4j="http://richfaces.org/a4j"
                xmlns:mp="http://www.fujitsu.com/global/services/software/interstage/marketplace">

  <ui:fragment
      rendered="#{subscriptionWizardConversation.model.service.priceModel.chargeable and not subscriptionWizardConversation.paymentConfigurationHidden}">
    <!-- billing address -->
    <div class="text-left mb-2">
      <mp:outputStepBootstrap value="#{msg['subscription.confirm.details.title']}"/>
      <div class="col bg-light-secondary rounded p-3">
        <a4j:outputPanel layout="block" styleClass="font-weight-bold mb-2"
                         rendered="#{not empty subscriptionWizardConversation.model.selectedBillingContact}">
          <h:outputText value="#{subscriptionWizardConversation.model.selectedBillingContact.id}" id="billingId"/>
        </a4j:outputPanel>
        <div>
          <h:outputText value="#{subscriptionWizardConversation.model.selectedBillingContact.email}"
                        id="billingEmail"/>
        </div>
        <div>
          <h:outputText value="#{subscriptionWizardConversation.model.selectedBillingContact.companyName}"
                        id="billingCompanyName"/>
        </div>
        <div>
          <h:outputText value="#{subscriptionWizardConversation.model.selectedBillingContact.address}"
                        id="billingAddress"/>
        </div>
      </div>
    </div>

    <!-- payment info -->
    <div class="row">
      <div class="col-sm-9 mt-2">
        <h2 class="box_title mt-3">#{msg['subscription.confirm.paymentOptions.title']}</h2>
        <hr class="mt-1 mb-2"/>
      </div>
      <div class="col-sm-3 mt-2 align-self-center text-center">
        <h:outputLink id="editPaymentTypeLink" styleClass="btn btn-sm btn-outline-secondary w-sm-100"
                      onclick="setDirty(false);if(AdmUtils.isNotDirtyOrConfirmed()) {#{rich:element('hiddenPaymentChange')}.click();} return false;">
          <h:outputText value="#{msg['subscription.confirm.paymentOptions.change']}"/>
        </h:outputLink>
        <h:commandButton id="hiddenPaymentChange" action="#{subscriptionWizardConversation.gotoEnterPayment}"
                         styleClass="d-none" immediate="true"/>
      </div>
    </div>
    <div class="bg-light-secondary rounded p-3">
        <div>
          <h:outputText value="#{subscriptionWizardConversation.model.selectedPaymentInfo.id}" id="paymentId"
                        styleClass="font-weight-bold"/>
        </div>
        <div>
          <h:outputText value="#{subscriptionWizardConversation.model.selectedPaymentInfo.providerName}"
                        id="paymentProvider"/>
        </div>
        <div>
          <h:outputText value="#{subscriptionWizardConversation.model.selectedPaymentInfo.accountNumber}"
                        id="paymentAccount"/>
        </div>
      </div>
  </ui:fragment>
</ui:composition>


