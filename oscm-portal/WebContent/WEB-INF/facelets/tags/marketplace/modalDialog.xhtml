<!-- Copyright FUJITSU LIMITED 2020 -->
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:rich="http://richfaces.org/rich"
                xmlns:mp="http://www.fujitsu.com/global/services/software/interstage/marketplace"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:a4j="http://richfaces.org/a4j">

 <c:if test="#{empty submitId}">
  <c:set var="submitId" value="confirmedButton"/>
 </c:if>

 <c:set var="modalId" value="#{empty panelId? 'confirmPanel': panelId }"/>
 <c:set var="isFirstModal" value="#{empty isFirstModal? true: isFirstModal }"/>

 <div class="modal fade" id="${modalId}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
   <div class="modal-content">
    <div class="modal-header">
     <h4 class="modal-title" id="exampleModalCenterTitle">
      <h:outputText value="#{header}"/>
     </h4>
     <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body">
     <span><h:outputText value="#{text1}"/></span>
     <h6><h:outputText value="#{text2}"/></h6>
    </div>
    <div class="modal-footer">
     <c:choose>
      <c:when test="#{empty cancelAction}">
       <mp:buttonBootstrap id="${modalId}CancelButton" styleClass="btn-sm btn-secondary mx-1"
                            onclick="$('#{modalId}').modal('hide');return false;" value="#{msg['button.no']}"/>
      </c:when>
      <c:otherwise>
       <mp:buttonBootstrap id="${modalId}CancelButtonWithAction" value="#{msg['button.no']}"
                           bean="#{bean}" action="#{cancelAction}" styleClass="btn-sm btn-secondary mx-1"
                           oncomplete="{AdmUtils.showProgress(false);$('#{modalId}').modal('hide');return false;}"/>
      </c:otherwise>
     </c:choose>
     <mp:buttonBootstrap id="${modalId}OkButton" value="#{msg['button.yes']}" styleClass="btn-sm btn-secondary"
                         onclick="AdmUtils.showProgress(true);#{rich:element(submitId)}.click(); return false;"/>
    </div>
   </div>
  </div>
 </div>

</ui:composition>