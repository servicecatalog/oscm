<!-- Copyright FUJITSU LIMITED 2020-->
<!DOCTYPE html>
<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
>
  <!-- Debug only, to remove -->
  <link href="${facesContext.externalContext.requestContextPath}/bootstrap/css/bootstrap.min.css" rel="stylesheet"
        type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="#{facesContext.externalContext.requestContextPath}/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>


  <c:set var="ratingRendered" value="#{marketplaceConfigurationBean.currentConfiguration.reviewEnabled}"/>
  <c:if test="#{ratingRendered}">
    <div class="#{styleClass}">
      <div class="row no-gutters justify-content-center">
        <!-- Stars -->
        <div class="col-auto px-1 py-1 bg-white">
          <c:if test="#{empty rating}">
            <c:set var="rating" value="0"/>
            <c:set var="decimal" value="0"/>
          </c:if>
          <!-- Stars box -->
          </div>
            <a4j:outputPanel id="ratingStars" layout="block" styleClass="ratingStars rating#{rating}"/>
        </div>
        <!-- Text -->
        <div class="col-auto">
          <c:if test="#{not empty reviewCount}">
            <c:set var="text" value="#{msg['ratingText.reviews']}"/>
            <c:if test="#{not empty ratingText}">
              <c:set var="text" value="#{ratingText}"/>
            </c:if>
            <c:choose>
              <c:when test="#{reviewCount eq 0}">
                <h:outputText value="#{msg['ratingText.noReviews']}" styleClass="serviceRating"/>
              </c:when>
              <c:otherwise>
                <h:outputText value="#{reviewCount} #{text}" styleClass="serviceRating"/>
              </c:otherwise>
            </c:choose>
          </c:if>
        </div>
      </div>
    </div>
  </c:if>
</ui:composition>
