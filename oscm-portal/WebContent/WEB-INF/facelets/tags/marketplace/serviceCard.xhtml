<!-- Copyright FUJITSU LIMITED 2020-->
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:mp="http://www.fujitsu.com/global/services/software/interstage/marketplace"
                xmlns:a4j="http://richfaces.org/a4j">

  <div class="gridLayoutForCard mb-3">
    <a4j:outputPanel class="card border-secondary h-100 selectable"
                     onclick="#{rich:element('showDetails'.concat(status.index))}.click();">
      <div class="card-header">
        <h2 id="#{fieldId}Name" class="box_title shortenedText" title="#{service.nameToDisplay}"
            onclick="#{onClickHandler}">#{service.nameToDisplay}</h2>
      </div>

      <div class="card-body d-flex flex-column">

        <div class="row">
          <div class="col-lg-3 col-4">
            <div class="box-logo">
              <h:graphicImage id="#{fieldId}Image" class="img"
                              value="/image?type=SERVICE_IMAGE&amp;serviceKey=#{service.key}"/>
            </div>
          </div>
          <div class="col-lg-9 col-8 pl-1">
            <div class="row">
              <div class="col-6 pt-1">
                <h3 id="#{fieldId}Supplier" class="supplier shortenedText">
                  <h:outputFormat value="#{msg['service.by']}" title="#{service.sellerName}">
                    <f:param value="#{service.sellerName}"/>
                  </h:outputFormat>
                </h3>
              </div>
              <div class="col-6">
                <mp:ratingStarsBootstrap rating="#{service.rating}"/>
              </div>
            </div>
            <mp:serviceTags fieldId="service#{status.index}ServiceTags" service="#{service}"
                            styleClass="pt-3"/>
          </div>
        </div>
        <div id="#{fieldId}ShortDescLimited" title="#{service.shortDescription}" class="mt-3">
          <h5>#{service.shortDescriptionLimited}</h5>
        </div>

        <div class="mt-auto">
          <mp:servicePrice service="#{service}" styleClass="servicePriceForCard" showUnit="false"/>
          <h:link id="showServiceDetails#{status.index}" outcome="serviceDetails"
                  class="btn btn-outline-secondary stretched-link" value="#{msg['button.showDetails']}">
            <f:param name="selectedServiceKey" value="#{service.key}"/>
          </h:link>
        </div>

      </div>
    </a4j:outputPanel>
  </div>
</ui:composition>
