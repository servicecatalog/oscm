var AdmUtils={storedForm:[]},storedValue="",selectedRow=null,savedSelectClassName=null,savedOverClassName=null,focusButtonDivId=null,shownHint=null,loginPanelDirty=!1,loginRedirectTarget=null,loginContextPath=null;if("undefined"!=typeof Richfaces&&"undefined"!=typeof ModalPanel&&-1===document.URL.indexOf("/marketplace/")){jQuery.easing.fxSpring=function(e){return e*e*e*e*-3+e*e*e*2+e*e*2},jQuery.easing.easeInOut=function(e){return Math.sin(1.57079633*e)};var mpShow=ModalPanel.prototype.show;ModalPanel.prototype.show=function(){var e=jQuery(this.getSizedElement());mpShow.apply(this,Array.prototype.slice.call(arguments,[1]));var t=e.width(),n=e.height(),i=e.position().left+t/2,o=e.position().top+n/2;e.parent().css("opacity",0),e.parent().animate({opacity:1},800,"easeInOut"),e.css({width:"10px",height:"25px",overflow:"hidden",left:i-5,top:o}),e.animate({width:t,left:i-t/2},{duration:250,easing:"easeInOut",queue:!1}),e.animate({height:n,top:o-n/2},{duration:250,easing:"easeInOut",queue:!1})}}AdmUtils.blurButton=function(e){var t=document.getElementById(e);t.style.cursor="wait",t.style.opacity="0.4",t.style.filter="alpha(opacity=40)"},AdmUtils.storeValue=function(e){storedValue=e.value},AdmUtils.restoreValue=function(e){e.value=storedValue},AdmUtils.isNotDirtyOrConfirmed=function(){return!(null!=window.onbeforeunload&&!confirm(getUnloadMessage()))&&(setDirty(!1),!0)},AdmUtils.userIdClicked=function(e){return e.ctrlKey&&window.resizeTo(1024,738),!1},AdmUtils.showProgress=function(e){var t=document.getElementById("progressDiv");return t&&(e?(t.style.display="",document.body.style.cursor="wait"):(t.style.display="none",document.body.style.cursor="auto")),!1},AdmUtils.updateOrganizationIdIfNeeded=function(e,t){return!!(t&&t.length>0&&t!=e.value)&&(e.form.submit(),!0)},AdmUtils.selectRowNum=function(e,t){if(!(t<0)){var n=document.getElementById(e);null!=n&&null!=n.childNodes&&AdmUtils.selectRow(n.childNodes[2].rows[t])}},AdmUtils.selectRow=function(e){selectedRow&&jQuery(selectedRow).removeClass("rowSelected"),selectedRow=e,jQuery(selectedRow).addClass("rowSelected")},AdmUtils.deselectRow=function(){selectedRow&&jQuery(selectedRow).removeClass("rowSelected"),selectedRow=null},AdmUtils.mouseOverRow=function(e){e.className.indexOf("rowSelected")<0&&jQuery(e).addClass("rowOver")},AdmUtils.mouseOutRow=function(e){jQuery(e).removeClass("rowOver")},AdmUtils.mouseOverRowCell=function(e){e.className.indexOf("rowSelected")<0&&jQuery(e).addClass("rowCellOver")},AdmUtils.mouseOutRowCell=function(e){jQuery(e).removeClass("rowCellOver")},AdmUtils.mouseOverCell=function(e){for(var t=e;t&&"TD"!=t.nodeName.toUpperCase();)t=t.parentNode;(e=t).className.indexOf("rowSelected")<0&&(savedCellOverClassName=e.className,e.className=savedCellOverClassName+" rowOver")},AdmUtils.mouseOutCell=function(e){for(var t=e;t&&"TD"!=t.nodeName.toUpperCase();)t=t.parentNode;(e=t).className.indexOf("rowSelected")<0&&(e.className=savedCellOverClassName)},AdmUtils.resizeDelayed=function(){AdmUtils.timeout&&(clearTimeout(AdmUtils.timeout),AdmUtils.timeout=null),AdmUtils.timeout=setTimeout(AdmUtils.resize,1e3)},AdmUtils.ie7UploadValidation=function(e){if(AdmUtils.isIE()&&7==AdmUtils.getIEVersion()&&null!=e&&e.value.length>0){var t=e.value.indexOf("\\");if(0!=t&&(":"!=e.value.charAt(1)||2!=t))return alert(getIe7UploadValidationMessage()),e.focus(),AdmUtils.showProgress(!1),setOnSubmit(!1),!1}return!0},AdmUtils.getIEVersion=function(){var e=-1;return-1!=navigator.appVersion.indexOf("MSIE")&&(e=parseFloat(navigator.appVersion.split("MSIE")[1]),void 0!==document.documentMode&&e<8&&(e=8)),e},AdmUtils.isIE=function(){return null!=document.all},AdmUtils.isFirefoxOrChrome=function(){return-1!=navigator.userAgent.indexOf("Firefox")||-1!=navigator.userAgent.indexOf("Chrome")},AdmUtils.isFirefox11=function(){return-1!=navigator.userAgent.indexOf("Firefox")&&11==parseFloat(navigator.userAgent.split("Firefox/")[1])},AdmUtils.observe=function(e,t,n){if((e=$(e)).length&&n&&t&&t.length>0)return e.bind(t,n)},AdmUtils.stopObserving=function(e,t,n){if((e=$(e)).length&&n&&t&&t.length>0)return e.unbind(t,n)},AdmUtils.stopEvent=function(e){"undefined"!=typeof Event&&"function"==typeof Event.stop?Event.stop(e):(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopped=!0)},AdmUtils.preventDefaultSubmitOnEnter=function(){document.addEventListener?document.addEventListener("keydown",AdmUtils.preventDefaultSubmit,!1):document.attachEvent&&document.attachEvent("onkeydown",AdmUtils.preventDefaultSubmit)},AdmUtils.preventDefaultSubmit=function(e){if(13==((e=e||window.event).keyCode?e.keyCode:e.which?e.which:null)){var t=!1;e.target?t=e.target.type:e.srcElement&&(t=e.srcElement.type),t&&("text"!=t&&"password"!=t&&"checkbox"!=t&&"radio"!=t||(e.preventDefault?e.preventDefault():e.returnValue=!1))}return!0},AdmUtils.makeNavResizeable=function(e,t,n,i,o){AdmUtils.observe(e,"mousedown",function(e){AdmUtils.resizeNav(e,t,n,i,o)})},AdmUtils.pageTo=function(e,t){var n=parseInt(jQuery(t).val());isNaN(n)&&(n=0),RichFaces.component(e).switchToPage(n)},AdmUtils.resizeNav=function(e,t,n,i,o){function l(e){var n=origWidth+e.clientX-startX;n>0&&(t.style.width=n+"px"),AdmUtils.stopEvent(e)}startX=e.clientX,origWidth=parseInt(t.style.width),AdmUtils.observe(document,"mousemove",l),AdmUtils.observe(document,"mouseup",function e(t){AdmUtils.stopObserving(document,"mousemove",l);AdmUtils.stopObserving(document,"mouseup",e);o&&o(origWidth+t.clientX-startX);AdmUtils.stopEvent(t)}),AdmUtils.stopEvent(e)},AdmUtils.setFrameHeight=function(){if(0!==jQuery("#mainContainer").length){var e=jQuery("#mainContainer").position().top,t=jQuery(window).height()-3,n=jQuery("#body_boxMain").offset().top-e;jQuery("#body_boxMain").height();jQuery("#body_boxMain").height(t-n),n=jQuery("#navPanel #menu").offset().top,jQuery("#navPanel  #menu").height(),jQuery("#navPanel #menu").height(t-n),n=jQuery("#resizePanel").offset().top,jQuery("#resizePanel").height(),jQuery("#resizePanel").height(t-n),jQuery().ready(function(){try{if(document.activeElement){var e=jQuery(document.activeElement),t=jQuery("#body_boxMain");if(e&&t){var n=e.offset().top-t.offset().top;t.scrollTop(n)}}}catch(e){}})}},AdmUtils.makeDraggable=function(e,t){AdmUtils.observe(e,"mousedown",function(e){AdmUtils.drag(e,t)})},AdmUtils.setFirstStepHeader=function(){jQuery(".body_box1 .step:first").css("margin-top","0px");var e=jQuery("#body_box2");e&&jQuery(".step:first",e).css("margin-top","0px")},AdmUtils.initUploadPreview=function(){function noopOnChange(){}function onChange(w,h){var reader=new FileReader,ix=$(".fileChooser").index($(this)),$preview=$(".previewImage:eq("+ix+")");reader.onload=function onFileLoaded(evt){var img=new Image,previewTarget=evt.target.result;img.onload=function onImageLoaded(evt){var width=this.width,height=this.height,$preContainer=$(".imagePreview:eq("+ix+")"),preview=eval($preContainer.attr("data-size"));if(void 0!==preview)if(preview.apply(this,[width,height])){$preContainer.css("width",width+"px").css("height",height+"px"),$preview.attr("src",previewTarget).css("position","absolute").fadeIn(600);var $noImage=$(".noImage",$preContainer);$noImage&&$noImage.css("display","none"),$preContainer.animate({width:width,height:height})}else alert($(".imagePreview:eq("+ix+")").attr("data-error"))},img.src=evt.target.result},reader.readAsDataURL(this.files[0])}jQuery(".fileChooser").bind("change",function(e,t){return e||t?onChange:noopOnChange}(window.File,window.FileReader))},AdmUtils.setUIElements=function(e){e?(jQuery(".fileChooser").unbind("change"),AdmUtils.setUploadBoxes()):(AdmUtils.setFormRollovers(),AdmUtils.setSelectBoxes(),jQuery(".fileChooser").unbind("change"),AdmUtils.setUploadBoxes(),AdmUtils.initUploadPreview(),AdmUtils.setFirstStepHeader(),AdmUtils.highlightTableHeader(),AdmUtils.centerTableCheckboxes(),AdmUtils.setMenuPosition())},AdmUtils.setInfoPanel=function(e){var t=document.getElementById(e);t&&(t.childNodes.length>0?t.style.display="block":t.style.display="none")},AdmUtils.highlightNavigation=function(e){jQuery("#"+e).parents("li").addClass("selected")},AdmUtils.centerTableCheckboxes=function(){jQuery(".rich-table th:first-child").each(function(){jQuery('input[type="checkbox"]',jQuery(this)).length>0&&jQuery(this).css("text-align","center")})},AdmUtils.setCheckBoxClicks=function(){jQuery(".rich-table tr").each(function(){jQuery(this).unbind("click"),jQuery(this).click(function(e){var t;jQuery(e.target).is("input")||(t=jQuery("input[type='checkbox']",jQuery(this))).length>1||t.each(function(e,t){this.click()})})})},AdmUtils.setFormRollovers=function(){var e;jQuery(".labelAndValuePanel .labelAndValuePanelCol2").each(function(){jQuery("input,select,textarea",this).attr("disabled")||jQuery("*",this).hasClass("disabled")||jQuery(this).unbind("mouseenter mouseleave").hover(function(){e=jQuery(this).parents(".labelAndValuePanel tr"),jQuery(".labelAndValuePanelCol1 .label",e).addClass("labelRoll")},function(){e=jQuery(this).parents(".labelAndValuePanel tr"),jQuery(".labelAndValuePanelCol1 .label",e).removeClass("labelRoll")})})},AdmUtils.setUploadBoxes=function(){jQuery('input[type="file"]').each(function(){var e=jQuery(this).attr("disabled"),t=jQuery(this).parents(".jqUpload");jQuery(".fileChooser",t).width();e?(t=jQuery(this).parent(),jQuery("span.option",t).addClass("disabled"),jQuery("span.upload",t).addClass("disabled")):(jQuery(this).unbind("change","mouseover","mouseleave"),jQuery(this).bind("change",function(){var e=jQuery(this).val();t=jQuery(this).parent(),jQuery(".output",t).text(e)}).hover(function(){t=jQuery(this).parent(),jQuery("span.option",t).addClass("hover"),jQuery("span.upload",t).addClass("hover")},function(){t=jQuery(this).parent(),jQuery("span.option",t).removeClass("hover"),jQuery("span.upload",t).removeClass("hover")}))})},AdmUtils.setSelectBoxes=function(){var e;jQuery("select").not(".pager select").each(function(){var t=jQuery(this).attr("title");t=jQuery("option:selected",this).text(),e=jQuery(this).parent(),jQuery("span.option",e).text(t),jQuery(this).attr("disabled")?(e=jQuery(this).parent(),jQuery("span.option",e).addClass("disabled"),jQuery("span.select",e).addClass("disabled")):(jQuery(this).unbind("change","mouseover","mouseleave"),jQuery(this).bind("change",function(){var t=jQuery("option:selected",this).text();e=jQuery(this).parent(),jQuery("span.option",e).text(t)}).hover(function(){e=jQuery(this).parent(),jQuery("span.option",e).addClass("hover"),jQuery("span.select",e).addClass("hover")},function(){e=jQuery(this).parent(),jQuery("span.option",e).removeClass("hover"),jQuery("span.select",e).removeClass("hover")}))})},AdmUtils.highlightTableHeader=function(){var e;jQuery(".rowTitle th").removeClass("tableColumnSelected"),(e=jQuery('.rowTitle th img[src$="sortAscending"]')).length>0&&jQuery.each(e,function(e){jQuery(this).parents(".rowTitle th").addClass("tableColumnSelected")}),(e=jQuery('.rowTitle th img[src$="sortDescending"]')).length>0&&jQuery.each(e,function(e){jQuery(this).parents(".rowTitle th").addClass("tableColumnSelected")})},AdmUtils.drag=function(e,t){function n(e){t.style.left=e.clientX-startX+origLeft+"px",t.style.top=e.clientY-startY+origTop+"px",AdmUtils.stopEvent(e)}startX=e.clientX,startY=e.clientY,origLeft=t.offsetLeft,origTop=t.offsetTop,AdmUtils.observe(document,"mousemove",n),AdmUtils.observe(document,"mouseup",function e(t){AdmUtils.stopObserving(document,"mousemove",n);AdmUtils.stopObserving(document,"mouseup",e);AdmUtils.stopEvent(t)}),AdmUtils.stopEvent(e)},AdmUtils.getWindowWidth=function(){return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body&&document.body.clientWidth?document.body.clientWidth:0},AdmUtils.getWindowHeight=function(){return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body&&document.body.clientHeight?document.body.clientHeight:0},AdmUtils.getDocumentHeight=function(){var e=document;return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))},AdmUtils.showErrorPanel=function(e){AdmUtils.showPanel(e,"errorPanel")},AdmUtils.showPanel=function(e,t){var n=document.getElementById(t);n&&(n.style.display=e?"block":"none")},AdmUtils.showModalErrorPanel=function(e,t){if(document.getElementById(e+"modalErrorPanel")){var n=t+50;Richfaces.hideModalPanel(e),RichFaces.$(e,{width:n}).show()}},AdmUtils.clearModalErrorPanel=function(e){var t=document.getElementById(e);t&&(t.style.display="none",t.innerHTML="")},AdmUtils.clearMsgrPanel=function(){var e=document.getElementById("infoMessages");e&&(e.style.display="none",e.innerHTML="");var t=document.getElementById("errorPanel");t&&(t.style.display="none",t.innerHTML="")},AdmUtils.clearHiddenErrorPanel=function(){var e=document.getElementById("hiddenErrorPanel");e&&(e.style.display="none",e.innerHTML="")},AdmUtils.moveChildren=function(e,t){if(!(null==e||null==t||t.childNodes.length>0)){for(var n=e.childNodes.length-1;n>=0;n--)t.appendChild(e.childNodes[n]);e.style&&(e.style.display="")}},AdmUtils.moveChildrenForDifferentBrowser=function(e,t){if(null!=e&&null!=t&&!AdmUtils.isErrorMsgAdded(t)){for(var n=e.childNodes.length-1;n>=0;n--)t.appendChild(e.childNodes[n]);e.style&&(e.style.display="")}},AdmUtils.moveChildrenForDifferentBrowserWithRefresh=function(e,t,n,i){if(null!=e&&null!=t){if(i){AdmUtils.removeChildren(t),AdmUtils.removeChildren(n);for(var o=e.childNodes.length-1;o>=0;o--)t.appendChild(e.childNodes[o])}e.style&&(e.style.display="")}},AdmUtils.isErrorMsgAdded=function(e){if(e.childNodes.length>0)for(var t=e.childNodes.length-1;t>=0;t--)if("DL"==e.childNodes[t].nodeName)return!0},AdmUtils.removeChildren=function(e){if(null!=e)for(;e.childNodes.length>0;)e.removeChild(e.lastChild)},AdmUtils.removePanelChildren=function(e,t){if(null!=e)for(;e.childNodes.length>0&&t;)e.removeChild(e.lastChild)},AdmUtils.findRow=function(e,t,n,i,o){for(var l=0;l<i;l++){var s=document.getElementById(e+l+":"+t);if(null!=s&&s.innerHTML==n){for(;s&&"TR"!=s.nodeName.toUpperCase();)s=s.parentNode;s&&o(s)}}},AdmUtils.findRowForDataList=function(e,t,n,i,o,l,s){for(var r=0;r<l;r++){var d=document.getElementById(e+r+":"+t),a=document.getElementById(e+r+":"+i);if((null!=d||null!=a)&&d.innerHTML==n&&a.innerHTML==o){for(;d&&"TR"!=d.nodeName.toUpperCase()&&a&&"TR"!=a.nodeName.toUpperCase();)d=d.parentNode,a=a.parentNode;(d||a)&&(s(d),s(a))}}},AdmUtils.showHelp=function(e,t,n){var i=e+"/help/"+t+"/help/tasks/"+n.replace(/\./g,"_")+".htm";return!!AdmUtils.testHttpConnection(i)&&(AdmUtils.openWindow(i),!0)},AdmUtils.openWindow=function(e){var t=window.open("","help","");if(t){try{t.isVisible?(t.close(),t=window.open(e,"help","")):t.location.href=e}catch(n){t.close(),t=window.open(e,"help","")}t.isVisible=!0}return!1},AdmUtils.showFaq=function(e,t){var n=e+"-help/faq/"+t+"/faq.html",i=e+"-help/faq/en/faq.html";return AdmUtils.testHttpConnection(n)?(AdmUtils.openWindow(n),!0):!!AdmUtils.testHttpConnection(i)&&(AdmUtils.openWindow(i),!0)},AdmUtils.submitOnReturn=function(e,t){var n=e||window.event;n&&13==n.keyCode&&t.submit()},AdmUtils.clickOnReturn=function(e,t){var n=e||window.event;n&&13==n.keyCode&&AdmUtils.executeOnClick(t)},AdmUtils.executeOnClick=function(e){var t=document.getElementById(e);t&&"function"==typeof t.onclick&&t.onclick()},AdmUtils.selectElement=function(e){e.focus(),setTimeout("document.getElementById('"+e.id+"').select();",300)},AdmUtils.focusElementById=function(e){if(e){var t=document.getElementById(e);if(t)try{t.focus()}catch(e){}}},AdmUtils.submitElement=function(e,t){for(var n=0;n<e.elements.length;n++){var i=e.elements[n].type;e.elements[n]!=t&&"hidden"!=i&&"submit"!=i&&(e.elements[n].disabled=!0)}return e.submit(),!1},AdmUtils.resetSelect=function(e){for(var t=0;t<e.length;t++)if(e.options[t].defaultSelected){e.options[t].selected=!0;break}},AdmUtils.suggestUserId=function(e,t){null!=t.value&&0!=t.value.length||(t.value=e.value)},AdmUtils.setHighlights=function(e){if(!(e.length<3)){for(var t=(e=e.substring(1,e.length-1)).split(","),n=0;n<t.length;n++)AdmUtils.setHighlight(AdmUtils.trim(t[n]));var i=document.getElementById(t[0]);null!=i&&i.focus()}},AdmUtils.setHighlight=function(e){var t=document.getElementById(e);null!=t&&("checkbox"==t.type?t.style.outline="2px solid #A00000":t.style.border="2px solid #A00000")},AdmUtils.removeHighlight=function(e){e&&("checkbox"==e.type?e.style.outline="":e.style.border="")},AdmUtils.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},AdmUtils.hideMessages=function(){var e=document.getElementById("errorPanel");null!=e&&(e.style.display="none"),null!=(e=document.getElementById("infoPanel"))&&(e.style.display="none"),AdmUtils.setFrameHeight()},AdmUtils.updateButton=function(e,t,n){AdmUtils.isTableRowChecked(e)?(t.style.display="block",n.style.display="none"):(t.style.display="none",n.style.display="block")},AdmUtils.isTableRowChecked=function(e){var t=!1;if(null!=e){var n=e.tBodies[0];if(n)for(var i=n.rows,o=0;o<i.length&&!t;o++)t=i[o].cells[0].firstChild.checked}return t},AdmUtils.setAllCheckboxes=function(e,t,n,i){setDirty(i);for(var o,l=0;null!=(o=document.getElementById(e+":"+l+":"+t));)o.checked=n,l++},AdmUtils.setFocusBackgroundColor=function(e){AdmUtils.focusBackgroundColor=e},AdmUtils.isNoDymanicHighlighting=function(e){return!!jQuery(e).hasClass("ndh")||!!jQuery(e).parents(".ndh:first").length},AdmUtils.setFocus=function(e,t){if(!AdmUtils.isNoDymanicHighlighting(e)&&(e=AdmUtils.getParentElementWithTagName(e,"tr"))&&void 0!==e.style)if(t){if(jQuery(e).addClass("formHighlight"),focusButtonDivId){var n=document.getElementById(focusButtonDivId);n&&(n.style.display="none")}focusButtonDivId=null,e.lastChild&&e.lastChild.firstChild&&e.lastChild.firstChild.id&&e.lastChild.firstChild.id.indexOf(":focus")>=0&&(e.lastChild.firstChild.style.display="block")}else jQuery(e).removeClass("formHighlight"),e.lastChild&&e.lastChild.firstChild&&e.lastChild.firstChild.id&&e.lastChild.firstChild.id.indexOf(":focus")>=0&&(focusButtonDivId=e.lastChild.firstChild.id,setTimeout("if (focusButtonDivId != null ) { var div = document.getElementById(focusButtonDivId); if (div) div.style.display = 'none'; }",300))},AdmUtils.getParentElementWithTagName=function(e,t){for(;e&&void 0!==e.tagName&&e.tagName.toLowerCase()!=t;)e=e.parentNode;return e},AdmUtils.initFocusAfterDomUpdate=function(e,t,n){var i=e.getResponseHeader("Ajax-Update-Ids");if(i&&!(i.length<1)){var o=i.split(","),l=o.length;if(!(l<1)){for(var s=0;s<l;s++){var r=o[s];AdmUtils.initFocus(r)}if(!AdmUtils.isIE()){var d=jQuery(":focus");d.length>0&&AdmUtils.setFocus(d.get(0),!0)}}}},AdmUtils.initFocus=function(e){var t,n,i=2===(n=arguments).length&&!0===n[1],o=["input","select","textarea"],l=o.length;if((t=e&&"string"==typeof e?$('[id="'+e+'"]'):$(document)).length){for(;l--;)t.find(o[l]).focus(function(){AdmUtils.setFocus(this,!0)}).blur(function(){AdmUtils.setFocus(this,!1)});(t=i?t.find('div[id$="focusButtons"] > span > a'):$('div[id$="focusButtons"] > span > a')).focus(function(){AdmUtils.setFocus(this,!0)}).blur(function(){AdmUtils.setFocus(this,!1)}),$(".pager select").unbind("focus"),$(".pager input").unbind("focus")}},AdmUtils.resizeIframe=function(e){var t=e.contentWindow.document.body.scrollHeight+1+"px";e.style.height=t},AdmUtils.selectDropDownOption=function(e,t,n,i){var o=e.selectedIndex,l=e.options[o].value;return submitSelectedValue(l,t,n,i)},AdmUtils.submitSelectedValue=function(e,t,n,i){var o=document.getElementById(t+":"+n);if(null!=o){o.value=e;var l=document.getElementById(t+":"+i);return null!=l&&l.click(),!0}return!1},AdmUtils.setEditorContent=function(e,t,n){var i=tinyMCE.getInstanceById(t+":"+n+"TextArea");null!=i&&void 0!==i&&i.setContent(e)},AdmUtils.setLoginPanelDirty=function(){loginPanelDirty=!0},AdmUtils.showMplLoginPanelAfterRefresh=function(){loginPanelDirty=!1,showLoginPanel(loginRedirectTarget,!1,loginContextPath)},AdmUtils.showMplLoginPanel=function(e,t,n){if(e&&t)window.location.href=n+e;else{if(loginPanelDirty)return loginRedirectTarget=e,loginContextPath=n,void refreshLogin();var i=document.getElementById("loginForm:loginRedirectTarget");i?i.value=e:(i=document.getElementById("passwordForm:loginRedirectTarget"))&&(i.value=e);var o=document.getElementById("loginPanel");if(o&&o.rf.component){AdmUtils.clearModalErrorPanel("modalErrorPanel"),o.rf.component.show();var l=document.getElementById("loginForm:loginUserId");l&&l.focus();var s=document.getElementById("passwordForm:currentPassword");s&&s.focus()}}},AdmUtils.setPageOverflow=function(e){document.getElementsByTagName("html")[0].style.overflow=e},AdmUtils.adjustMplModalDialogPosition=function(e){var t=jQuery("div[id$="+(e+"CDiv")+"]");t.css("width",t.width()),t.css("position","relative");var n=jQuery($(window)).height()/2,i=t.height()/2;n>i?t.css("margin-top",-i):t.css("margin-top",-n)},AdmUtils.showRating=function(e){document.getElementById("ratingText")&&(document.getElementById("ratingText").className=0==e?"ratingTextWarning":"ratingTextNormal",document.getElementById("ratingText").innerHTML=document.getElementById("commentForm:star"+e).innerHTML),document.getElementById("starParent")&&(document.getElementById("starParent").className="ratingStars rating"+e+"_0")},AdmUtils.changeMarketplace=function(e){var t=window.location.href;if(t.indexOf("?")>0){var n=t.indexOf("mId=");if(n>0){var i=t.substr(n+4),o=i.indexOf("&"),l="mId="+(o>0?i.substr(0,o):i),s="mId="+e;t=t.replace(l,s)}else t=t+"&mId="+e}else t=t+"?mId="+e;window.location.href=t},AdmUtils.copyElementValues=function(e,t){var n=document.getElementById(e);document.getElementById(t).value=n.value},AdmUtils.copySelectedOption=function(e,t){var n=document.getElementById(t),i=document.getElementsByName(e);if(i)for(var o=0;o<i.length;o++)if(i[o].checked){n.value=i[o].value;break}return n.value},AdmUtils.copyFormContent=function(e,t){var n=e.split(":"),i=t.split(":"),o=document.getElementById(n[0]),l=document.getElementById(i[0]);if(o&&l)for(var s=0;s<o.elements.length;s++){var r=o.elements[s];if(r&&"hidden"!=r.type){var d=document.getElementById(r.id.replace(e,t));d&&("radio"==r.type||"checkbox"==r.type?d.checked=r.checked:d.value=r.value)}}},AdmUtils.handlePaymentTypeSelection=function(e,t,n,i){var o=t;"INVOICE"==AdmUtils.copySelectedOption(n,i)&&(o=e),document.getElementById(o).click()},AdmUtils.cutServiceTags=function(e){if(e)for(var t=0;t<e.length;t++)for(var n=e[t],i=!0,o=-1,l=0;n.scrollWidth>n.offsetWidth&&i;){i=!1,o=-1,l=0;for(var s=0;s<n.childNodes.length;s++)void 0!==n.childNodes[s].tagName&&"a"==n.childNodes[s].tagName.toLowerCase()&&(l++,o=s);if(l>1){for(;n.childNodes.length>o;)n.removeChild(n.childNodes[n.childNodes.length-1]);n.appendChild(document.createTextNode("...")),i=l>2}}},AdmUtils.showHint=function(e){null!=e&&(null==shownHint||(shownHint.style.display="none",shownHint!=e)?(shownHint=e,e.style.display=""):shownHint=null)},AdmUtils.testHttpConnection=function(e){var t=null;if(window.XMLHttpRequest)t=new XMLHttpRequest;else{if(!window.ActiveXObject)return!1;t=new ActiveXObject("Microsoft.XMLHTTP")}try{if(t.open("GET",e,!1),t.send(null),4===t.readyState&&200===t.status)return!0}catch(e){}return!1},AdmUtils.SuggestionBox=function(e,t,n){this.$box=null,this.suggestionElement=e,this.$box=jQuery(n),this.$dropDown=jQuery(".suggestionDrop",this.$box),this.hasFilter=!1,this.colText=[],this.nothingLabel=t,this.colText[0]="Organization ID",this.colText[1]="Organization Name",this.suggestTitle="Suggested Organizations"},AdmUtils.SuggestionBox.prototype.buildSuggestionBox=function(e){var t,n=jQuery("<table style='width:100%'></table>"),i=e.fetchValues,o=6*i.length,l=jQuery(".suggestionInput",this.$box),s=jQuery(".suggestion-box-marker",this.$box);this.addSuggestionTitle(o,l,s);for(var r=0;r<i.length;++r)for(var d=0;d<6;++d)t=this.createCell(i[r].VOOrganization),n.append(t);this.destroyList(),jQuery(".organizationResults",this.$box).text(""),jQuery(".organizationResults",this.$box).append(n)},AdmUtils.SuggestionBox.prototype.createCell=function(e){var t,n,i=this;return t=jQuery("<tr class='suggestionBoxItem'><td class='id'></td><td class='name'></td>/tr>"),(n=jQuery(".id",t)).html(e.organizationId),(n=jQuery(".name",t)).html(e.name),n.parent().attr("data-suggestion-id",e.organizationId),n.parent().attr("data-suggestion-name",e.name),t.click(function(){jQuery(".suggestionInput",this.$box).val(jQuery(this).attr("data-suggestion-id")),jQuery(".select .option",this.$box).html(jQuery(this).attr("data-suggestion-id")),jQuery(".suggestionDrop",this.$box),i.openCloseSuggestion()}),t.hover(function(){jQuery(this).addClass("formHighlight")},function(){jQuery(this).removeClass("formHighlight")}),t},AdmUtils.SuggestionBox.prototype.destroyList=function(){var e;(e=jQuery("td",this.$dropDown)).length,e.each(function(){jQuery(this).unbind()})},AdmUtils.SuggestionBox.prototype.addSuggestionTitle=function(e,t,n){var i;e>10?(i={col1:this.colText[0],col2:this.colText[1],title:this.suggestTitle},t.css("display",""),n.css("display",""),this.hasFilter=!0):e>0?(this.hasFilter?this.suggestTitle:" ",i={col1:this.colText[0],col2:this.colText[1],title:this.suggestTitle},this.hasFilter||(t.css("display","none"),n.css("display","none"))):i={col1:"",col2:"",title:this.nothingLabel};var o=jQuery("<table class='suggestionListTitle'><tr><td colspan='2' class='title'>"+i.title+"</td></tr><tr><td style='width:50%;'class='subTitle'>"+i.col1+"</td><td style='width:50%;' class='subTitle'>"+i.col2+"</td></tr></table>");jQuery(".titleAnchor",this.$box).text(""),jQuery(".titleAnchor",this.$box).append(o)},AdmUtils.SuggestionBox.prototype.openCloseSuggestion=function(){var e=this;if("true"===this.$dropDown.attr("data-open"))this.$dropDown.animate({height:0,opacity:0},200,function(){e.$dropDown.attr("data-open","false")}),jQuery("body").unbind("click");else{if(this.$dropDown.css("height","auto"),this.$dropDown.animate({opacity:1}),this.$dropDown.attr("data-open","true"),"true"===this.$dropDown.attr("data-empty")){this.$dropDown.attr("data-empty","false"),this.suggestionElement.callSuggestion(!0);var t=jQuery(".suggestionInput",this.$box),n=jQuery(".suggestion-box-marker",this.$box);this.hasFilter||(t.css("display","none"),n.css("display","none"))}this.$box.unbind(),this.$box.click(function(e){e.stopPropagation()}),jQuery("body").click(function(){e.openCloseSuggestion()})}},AdmUtils.contentsTitle=function(){var e=jQuery(".contentstitle").html();e&&("<br>"!=(e=e.replace(/(\r\n|\n|\r|\s)/gm,""))&&"<BR>"!=e||jQuery(".contentstitle").css("display","none"))},AdmUtils.selectRadioButtons=function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=document.getElementsByName(t),i=0;i<n.length;i++)if(n[i].value==e[t]&&!n[i].checked){n[i].checked=!0,setDirty(!0);break}},AdmUtils.unhideMenuWithWidth=function(e){jQuery("#navPanel2").hide(),jQuery("#navPanel").show(),jQuery("#navPanel").animate({width:e,minWidth:"200px"},300)},AdmUtils.hideMenu=function(e){jQuery("#navPanel").animate({width:"13px",minWidth:"13px"},300,function(){jQuery("#navPanel").hide(),jQuery("#navPanel2").show()})},AdmUtils.setFrameHeight=function(e){if(0!==jQuery("#mainContainer").length){e=(e=e||parseInt(AdmUtils.getCookie("targetHeight"),10))||300;var t=jQuery(window).height()-3,n=jQuery("#body_boxMain").offset().top,i=(jQuery("#navPanel").height(),parseInt(jQuery("#body_boxMain").css("min-height"),10)),o=jQuery("#body_box2").length>0?jQuery("#body_box2").html():null;o&&(o=(o=o.replace(/(\r\n|\n|\r)/gm,"")).replace(/\s+/,"")),null!==o&&o.length?(e+n+11>t?(e=t-n-11,jQuery("#body_boxMain").height(e),jQuery("#body_boxSub").height(0)):(e<i&&(e=i),jQuery("#body_boxMain").height(e),jQuery("#body_boxSub").height(t-n-e-11)),document.cookie="targetHeight="+e+"; path=/"):(jQuery("#contentPanelSub").remove(),jQuery("#panelSplitResize").remove(),jQuery("#body_boxMain").height(t-n)),n=jQuery(".resizePanel").offset().top,jQuery(".resizePanel").height(t-n),n=jQuery("#navPanel #menu").offset().top,jQuery("#navPanel #menu").height(t-n)}},AdmUtils.resizeSplit=function(e,t,n,i,o){function l(e){var t=origHeight+e.clientY-startY;t>0&&AdmUtils.setFrameHeight(t),AdmUtils.stopEvent(e)}startY=e.clientY,origHeight=parseInt(t.style.height),AdmUtils.observe(document,"mousemove",l),AdmUtils.observe(document,"mouseup",function e(t){AdmUtils.stopObserving(document,"mousemove",l);AdmUtils.stopObserving(document,"mouseup",e);o&&o(origHeight+t.clientY-startY);AdmUtils.stopEvent(t)}),AdmUtils.stopEvent(e)},AdmUtils.makeSplitResizeable=function(e,t,n,i,o){AdmUtils.observe(e,"mousedown",function(e){AdmUtils.resizeSplit(e,t,n,i,o)})},AdmUtils.getCookie=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?unescape(t[2]):null},AdmUtils.dataTableSelectOneRadio=function(e){for(var t=e.name.substring(e.name.lastIndexOf(":")),n=e.form.elements,i=n.length,o=0;o<i;o++)n[o].name.substring(n[o].name.lastIndexOf(":"))==t&&(n[o].checked=!1);e.checked=!0},AdmUtils.dataTableSelectCheckboxes=function(e,t,n,i){for(var o,l=0;l<=i;l++)null!=(o=document.getElementById(e+":"+l+":"+t))&&(o.checked==n||o.disabled||(o.checked=n))},AdmUtils.updateSelectAllCheckbox=function(e,t,n,i){for(var o=!0,l=!0,s=0;s<=n;s++)if(null!=(field=document.getElementById(e+":"+s+":"+t))&&(l=!1,1!=field.checked)){o=!1;break}var r=document.getElementById(i);null!=r&&(1==l?r.checked=!1:1==o&&(r.checked=!0))},AdmUtils.setAllServiceCheckbox=function(e,t,n,i){for(var o,l=!0,s=!1,r=0;r<=n;r++)if(null!=(o=document.getElementById(e+":"+r+":"+t))&&(l=!1,0==o.checked)){s=!0;break}null!=document.getElementById(e+":"+i)&&(1!=l&&1!=s?0==s&&(document.getElementById(e+":"+i).checked=!0):document.getElementById(e+":"+i).checked=!1)},AdmUtils.cancelBubble=function(e){void 0!==(e=e||window.event)&&(void 0!==e.cancelBubble?e.cancelBubble=!0:e.stopPropagation&&e.stopPropagation())},AdmUtils.saveMenuPosition=function(){"undefined"!=typeof localStorage&&localStorage.setItem("menupos",jQuery("#menu").scrollTop())},AdmUtils.setMenuPosition=function(){"undefined"!=typeof localStorage&&jQuery("#menu").scrollTop(localStorage.getItem("menupos"))},AdmUtils.storeFormState=function(e){AdmUtils.storedForm=$(e).serializeArray()},AdmUtils.restoreFormState=function(){var e=null;$.each(AdmUtils.storedForm,function(t,n){n.name.indexOf(":")>-1&&((e=$("#"+n.name.replace(":","\\:"))).val(n.value),e.is("select")&&$("#"+n.name.replace(":","\\:")+"Selected").text(e.find(":selected").text()))})},AdmUtils.autocompleteSearch=function(e){var t=e.getValue();t.length<3&&e.setValue(t+"‌‌‌")},AdmUtils.addNothingLabel=function(e,t,n){var i="."+t;if($(i+" #NothingLabel").remove(),0==$(i+" .rf-au-itm.rf-au-opt.rf-au-fnt.rf-au-inp").length){var o=$(i+" .rf-au-lst-scrl").attr("style","position: relative;");$("<span/>").html(n).attr("id","NothingLabel").appendTo(o).attr("style","position: absolute;")}e.showPopup()},AdmUtils.removeNonPrintedChars=function(e){var t=e.getValue();-1!=t.indexOf("‌")&&e.setValue(t.replace(/\u200C/g,""))},AdmUtils.managePageSelection=function(e){var t=RichFaces.component(e);null!=document.getElementById(e+"Panel")&&(document.getElementById(e+"Panel").style.display=void 0!==t?"":"none")},AdmUtils.markSortColumnHeader=function(e){$(e).each(function(){$(this).parent().addClass("clicked-column-header").removeClass("hovered-column-header");var e=$(this).data("columnid");$(this).parent().parent().parent().find(".rf-dt-flt .rf-dt-c-"+e).removeClass("hovered-column-header").addClass("clicked-column-header")})},AdmUtils.handleSortAction=function(){AdmUtils.markSortColumnHeader("span.rf-dt-srt-asc"),AdmUtils.markSortColumnHeader("span.rf-dt-srt-des")},AdmUtils.setFirstPage=function(e){var t=RichFaces.component(e);void 0!==t&&t.switchToPage(1)},AdmUtils.noRoleSelected=function(){for(var e=document.getElementById("editForm:userRolesTable:tb").rows.length,t=0;t<e;t++)if(document.getElementById("editForm:userRolesTable:"+t+":rolesCheckbox").checked)return!1;return!0},AdmUtils.callKeyup=function(e){var t=$('input[id*="'+e+'"]');8==document.documentMode?$(t).bind("propertychange",function(){$(this).keyup()}):9==document.documentMode?window.addEventListener("contextmenu",function(){$(t).bind("mouseout",function(e){$(this).keyup(),$(".rich-filter-input").unbind("mouseout")})}):$(t).on("input",function(){$(this).keyup()})},AdmUtils.getTopOffset=function(e){for(var t=0;e&&!isNaN(e.offsetTop);)t+=e.offsetTop,e=e.offsetParent;return t},AdmUtils.resizeTrackingCodeForm=function(){var e=document.getElementById("trackingCodeForm:trackingCode");e.style.height=document.documentElement.clientHeight-AdmUtils.getTopOffset(e)-56+"px"},AdmUtils.registerTrackingCodeEvents=function(){window.attachEvent?(window.attachEvent("onresize",AdmUtils.resizeTrackingCodeForm),window.attachEvent("onload",AdmUtils.resizeTrackingCodeForm)):window.addEventListener&&(window.addEventListener("resize",AdmUtils.resizeTrackingCodeForm,!0),window.addEventListener("load",AdmUtils.resizeTrackingCodeForm,!0))},AdmUtils.emitResizeEvent=function(){if(!AdmUtils.isIE()||AdmUtils.getIEVersion()>8){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!1,!1),window.dispatchEvent(e)}AdmUtils.resizeTrackingCodeForm()},AdmUtils.updateRoleComboBox=function(e,t){for(var n=$("[id$='{0}']".f(t)),i=e.target.id.match(/\d+/)[0],o=0;o<n.length;o++){n[o].id.match(/\d+/)[0]===i&&(e.target.checked?n[o].style.visibility="visible":n[o].style.visibility="hidden")}},AdmUtils.initRoleFieldSetup=function(e,t){for(var n=$("[id$='{0}']".f(e)),i=$("[id*='{0}']".f(t)),o=0;o<i.length;o++)for(var l=i[o].id.match(/\d+/)[0],s=0;s<n.length;s++){l!==n[s].id.match(/\d+/)[0]||i[o].checked||(n[s].style.visibility="hidden")}},AdmUtils.updateSubRoleComboBox=function(e,t){for(var n=$("[id$='{0}']".f(t)),i=e.target.id.replace("assignCheckbox",t),o=0;o<n.length;o++)if(n[o].id==i){var l=document.getElementById(i);e.target.checked?l.style.visibility="visible":l.style.visibility="hidden"}},AdmUtils.initSubRoleFieldSetup=function(e,t){for(var n=$("[id$='{0}']".f(e)),i=($("[id*='{0}']".f(t)),0);i<n.length;i++){var o=n[i],l=n[i].id.replace(":role",":assignCheckbox");document.getElementById(l).checked?o.style.visibility="visible":o.style.visibility="hidden"}},String.prototype.format=String.prototype.f=function(){for(var e=this,t=arguments.length;t--;)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t]);return e},AdmUtils.handleSelectAllWithPaging=function(e){var t=$("."+e+" .user-group-select-user"),n=$("."+e+" .select-all-checkbox")[0];n.checked=0!=t.length,$.each(t,function(){0!=$(this)[0].checked||(n.checked=!1)})},AdmUtils.handlePagerActionsWithPopup=function(e,t,n){$.each($("."+e+" a.rf-ds-nmb-btn"),function(){var e=$(this).html();$(this).unbind("click"),$(this).bind("click",function(){1==handleOnKeyUp()&&t.switchToPage(e)})});var i=$("."+e+" a.rf-ds-btn.rf-ds-btn-next");i.unbind("click"),i.bind("click",function(){1==handleOnKeyUp()&&t.next()});var o=$("."+e+" a.rf-ds-btn.rf-ds-btn-last");o.unbind("click"),o.bind("click",function(){1==handleOnKeyUp()&&t.last()});var l=$("."+e+" a.rf-ds-btn.rf-ds-btn-prev");l.unbind("click"),l.bind("click",function(){1==handleOnKeyUp()&&t.previous()});var s=$("."+e+" a.rf-ds-btn.rf-ds-btn-first");s.unbind("click"),s.bind("click",function(){1==handleOnKeyUp()&&t.first()});var r=document.getElementById(n);$(r).unbind("click"),$(r)[0].onclick=null,$(r).bind("click",function(n){if(n.preventDefault(),1==handleOnKeyUp()){var i=$("."+e+" .pageInput").val();t.switchToPage(i)}})},AdmUtils.adjustDialogHeight=function(e){try{var t=$("#"+e+"_container").position().top;if(t+$("#"+e+"_container").height()>$(window).height()){var n=$(window).height()-t-20;$("#"+e+"Grid").height(n);var i=n-50;$("#"+e+"Form .responsive-table-panel").height(i),$("#"+e+"_content").height(n+100)}else $("#"+e+"Grid").height($(this)[0].height),$("#"+e+"Form .responsive-table-panel").height($(this)[0].height),$("#"+e+"_content").height($(this)[0].height)}catch(e){}},AdmUtils.adjustDialogHeightOnResize=function(e){var t=$("#"+e+"_container").position().top,n=($("#"+e+"_container").height(),$(window).height()-t-150);$("#"+e+"Grid").height(n);var i=n-50;$("#"+e+"Form .responsive-table-panel").height(i),$("#"+e+"_content").height(n+100)},AdmUtils.IE9PlaceHolderFix=function(e,t){if(!("placeholder"in document.createElement("input"))){var n=document.getElementById(t);n.getAttribute("placeholder")&&(n.style.cssText="color:#939393;font-style:italic;",""!=e?this.value=e:n.value=n.getAttribute("placeholder"),n.onblur=function(){""==this.value&&(this.value=this.getAttribute("placeholder"))})}},AdmUtils.IE9OnClick=function(e){if(!("placeholder"in document.createElement("input"))){var t=document.getElementById(e);t.value==t.getAttribute("placeholder")&&(t.value="")}},AdmUtils.IE9AfterClick=function(e){if(!("placeholder"in document.createElement("input"))){var t=document.getElementById(e);""==t.value&&(t.value=t.getAttribute("placeholder"))}},AdmUtils.sortSelect=function(){$("select").each(function(e,t){var n=$(t),i=t.options.selectedIndex;if(void 0!==i&&(selectedValue=t.options[i].value),n.find("option").sort(function(e,t){return e.text==t.text?0:e.text<t.text?-1:1}).appendTo(n),"undefined"!=typeof selectedValue)for(var o=0;o<n.find("option").length;o++){var l=n.find("option")[o];if(l.value==selectedValue){l.selected=!0,n.find("option").selectedIndex=o;break}}})},AdmUtils.showTooltips=function(){$(document).ready(function(){$('[data-bs-toggle="popover"]').popover({html:!0,container:"body",trigger:"hover click"})})},AdmUtils.sessionTab=function(e,t){var n=document.getElementById(e),i=document.getElementById(t);$(i).ready(function(){null!=n&&$(n).tab("show")})},AdmUtils.clearSearches=function(e,t){window.onunload=function(){document.getElementById(e).value="",document.getElementById(t).click()}},AdmUtils.hexToHSL=function(e){var t=e.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);r=parseInt(t[1],16),g=parseInt(t[2],16),b=parseInt(t[3],16),r/=255,g/=255,b/=255;var n,i,o=Math.max(r,g,b),l=Math.min(r,g,b),s=(o+l)/2;if(o==l)n=i=0;else{var d=o-l;switch(i=s>.5?d/(2-o-l):d/(o+l),o){case r:n=(g-b)/d+(g<b?6:0);break;case g:n=(b-r)/d+2;break;case b:n=(r-g)/d+4}n/=6}return[n=Math.round(360*n),i=Math.round(100*i),s=Math.round(100*s)]};